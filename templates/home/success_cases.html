{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/success-cases.css' %}">
{% endblock %}

{% block content %}
<section class="success-cases">
    <div class="container">
        <h2>成功救助案例</h2>
        {% if request.GET.type == 'cat' %}
            <h3 class="case-type-title">猫咪救助案例</h3>
        {% elif request.GET.type == 'dog' %}
            <h3 class="case-type-title">狗狗救助案例</h3>
        {% else %}
            <h3 class="case-type-title">全部救助案例</h3>
        {% endif %}
        
        <div class="case-grid">
            {% for case in success_cases %}
            <div class="case-card" data-type="{{ request.GET.type|default:'all' }}">
                {% if case.photo %}
                <img src="{{ case.photo.url }}" alt="{{ case.name }}">
                {% else %}
                <div class="no-photo">暂无照片</div>
                {% endif %}
                <div class="case-info">
                    <h3>{{ case.name }}</h3>
                    <p>品种：{{ case.breed }}</p>
                    <!-- <p>救助时间：{{ case.rescue_date|date:"Y-m-d" }}</p> -->
                    <div class="case-desc">
                        {{ case.rescue_story|truncatechars:100 }}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}